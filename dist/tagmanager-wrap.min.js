(function(a,b){if('function'==typeof define&&define.amd)define(['exports'],b);else if('undefined'!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.tagmanagerWrap=c.exports}})(this,function(a){'use strict';function b(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(a,'__esModule',{value:!0});var c=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e={gtmId:'GTM-T2HGD',virtualPageViewEvent:'virtual_pageview',startPush:{experiements:[]},addExperiments:[]},f=function(){function a(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;b(this,a),this.options=c({},e,f),this.dataLayer=d||[],this.dataLayer.push(this.options.startPush)}return d(a,[{key:'init',value:function(){this.appendAsyncScript(),this.appendNoScriptFallBack()}},{key:'appendAsyncScript',value:function(){var a=document.createElement('script');a.innerHTML='(function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ \'gtm.start\': new Date().getTime(), event: \'gtm.js\' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != \'dataLayer\' ? \'&l=\' + l : \'\'; j.async = true; j.src = \'https://www.googletagmanager.com/gtm.js?id=\' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, \'script\', \'tagManagerDataLayer\', \''+this.options.gtmId+'\');',document.body.appendChild(a)}},{key:'appendNoScriptFallBack',value:function(){var a=document.createElement('noscript'),b=document.createElement('iframe');b.src='https://www.googletagmanager.com/ns.html?id='+this.options.gtmId,b.height=0,b.width=0,b.style='display:none;visibility:hidden',a.appendChild(b),document.body.appendChild(a)}},{key:'prependExperiment',value:function(a){this.dataLayer[0].experiments.push(a)}},{key:'virtualPageView',value:function(a,b){this.dataLayer.push({vpname:a,event:b||this.options.virtualPageViewEvent})}},{key:'eventCategory',value:function(a,b){var d=c({eventCategory:a,event:'GAEvent'},b||{});return this.dataLayer.push(d)}},{key:'custom',value:function(a){return this.dataLayer.push(a)}},{key:'bindEvents',value:function(){var a=document.querySelectorAll('[data-gtm-event="ga-event"]');return a.forEach(function(a){a.getAttribute('data-gtm-bind')||(a.addEventListener('click',this.clickGAEvent.bind(this)),a.setAttribute('data-gtm-bind',!0))},this),a}},{key:'clickGAEvent',value:function(a){var b=a.currentTarget,c=b.getAttribute('data-gtm-category'),d=b.getAttribute('data-gtm-action')||null,e=b.getAttribute('data-gtm-label')||null,f=b.getAttribute('data-gtm-value')||null,g=b.getAttribute('data-gtm-property')||null;this.eventCategory(c,{eventAction:d,eventLabel:e,eventValue:f,eventProperty:g})}}]),a}();a.default=f});
