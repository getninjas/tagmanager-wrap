<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./dist/tagmanager-wrap.js"></script>
</head>

<body>
  <h1>TagManager Demo 12</h1>
  <br>
  <h3>eventCategory</h3>
  <hr>
  <button type="button" class="eventCategory">Run</button>
  <br>
  <h3>prependExperiment</h3>
  <hr>
  <button type="button" class="prependExperiment">Run</button>
  <br>
  <h3>virtualPageView</h3>
  <hr>
  <button type="button" class="virtualPageView">Run</button>
  <br>
  <h3>custom Obj</h3>
  <hr>
  <button type="button" class="customObj">Run</button>
  <script>
    var tagManagerDataLayer = [];
    tagManager = new window.tagmanagerWrap.default(tagManagerDataLayer, {
      gtmId: 'GTM-T2HGD',
      startPush: {
        page_type: "pages:home",
        path_category: "reformas-e-reparos/pedreiro",
        experiments: window.experiments || []
      }
    });
  </script>
  <script>
    var btnEventCategory = document.getElementsByClassName('eventCategory')[0];
    btnEventCategory.addEventListener('click', function () {
      tagManager.eventCategory("pre-fill", {
        eventAction: "success"
      });
      console.log(tagManager);
    });

    var btnPrependExperiment = document.getElementsByClassName('prependExperiment')[0];
    btnPrependExperiment.addEventListener('click', function () {
      tagManager.prependExperiment({
        experimentDescription: 'PopUp/Modal quando o usuário deixa formulário',
        experimentGoal: 'request conversion rate',
        experimentId: 'popup-user-leaves-request',
        experimentPageCategory: ['all'],
        experimentPageType: ['categories'],
        experimentTool: 'Abba',
        experimentType: 'page',
        experimentVersion: 'demo',
      });
      console.log(tagManager);
    });

    var btnVirtualPageView = document.getElementsByClassName('virtualPageView')[0];
    btnVirtualPageView.addEventListener('click', function () {
      tagManager.virtualPageView("/profile/created");
      console.log(tagManager);
    });

    var btnCustomObj = document.getElementsByClassName('customObj')[0];
    btnCustomObj.addEventListener('click', function () {
      tagManager.custom({
        user_id: 123,
        event: 'user_info'
      });
      console.log(tagManager);
    });
  </script>
</body>

</html>